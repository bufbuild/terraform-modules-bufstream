name: TF/Shell Linters
  pull-requests: read
on:
  workflow_call:
  pull_request:
    types:
      - opened
      - edited
jobs:
  lint-terraform:
    name: Lint TF
    runs-on: ubuntu-latest
    steps:
      - name: Lint Terraform
        uses: hashicorp/terraform:1.5.7
        with:
          terraform fmt -recursive
      
  lint-shell:
    name: Lint Shell
    runs-on: ubuntu-latest
    steps:
      - name: Lint title
        uses: koalaman/shellcheck:0.11.0
        with:
          find . -name "*.sh" -print0 | xargs -0 shellcheck --severity=style
